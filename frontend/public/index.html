<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Administrador de Despesas</title>
</head>
<body>
    <div id="app">
    </div>

    <script id="error-page" type="text/x-handlebars-template">
        <div class="landing">
            <h3>{{title}}</h3>
            <p>{{message}}</p>
        </div>
    </script>

    <script id="landing-page" type="text/x-handlebars-template">
        <div class="landing">
            <h3>Administre suas despesas de forma organizada</h3>
            <a href="/register">Começar Agora!</a>
            <a href="/login">Já tem uma conta?</a>
        </div>
    </script>

    <script id="registration-page" type="text/x-handlebars-template">
        <div class="landing">
            <h3>Crie a sua conta</h3>
            <form id="register-form" onsubmit="handleRegister(event)">
                <input type="text" name="name" placeholder="Nome" required>
                <input type="email" name="email" placeholder="Email" required>
                <input type="number" name="revenue" placeholder="Renda Mensal" required>
                <button>Registrar-se</button>
            </form>
            <a href="/">Voltar à pagina inicial</a>
        </div>
    </script>

    <script id="id-page" type="text/x-handlebars-template">
        <div class="landing">
            <h3>Seu ID é:</h3>
            <div class="id-box">
                <p>{{id}}</p>
            </div>
            <p id="warning">Guarde esse ID, ele é necessário para o login!</p>
            <a href="/expenses">Continuar</a>
        </div>
    </script>

    <script id="expenses-page" type="text/x-handlebars-template">
        <div class="landing">
            <div class="user-data">
                <ul>
                    <li>Olá {{name}}</li>
                    <li><a href="/profile">Ver perfil</a></li>
                    <li><button onclick="logout()" id="logout">Sair</button></li>
                </ul>
            </div>
            <div class="expenses">
                <div id="revenue">
                    <h2>Renda Mensal: R$ {{revenue}}</h2>
                    <h3>Gasto total: R$: {{expensesValue}}</h3>
                </div>
                <form onsubmit="createExpense(event)" id="add-expense">
                    <input name="title" type="text" placeholder="Título">
                    <input name="description" type="text" placeholder="Descrição">
                    <input name="value" type="number" placeholder="Valor">
                    <button>Adicionar Despesa</button>
                </form>
                <ul>
                    {{#each expenses}}
                    <li>
                        <ul>
                            <button onclick="deleteExpense({{this.id}})">Excluir</button>
                            <li>{{this.title}}</li>
                            <li>Descrição: {{this.description}}</li>
                            <li>Valor: R$ {{this.value}}</li>
                        </ul>
                    </li>
                    {{/each}}
                </ul>
            </div>
            </div>
    </script>

    <script id="login-page" type="text/x-handlebars-template">
        <div class="landing">
            <h3>Acesse sua conta</h3>
            <form id="login-form" onsubmit="handleLogin(event)">
                <input id="name-input" type="text" name="name" placeholder="Nome" required>
                <input id="pass-input" type="password" name="password" placeholder="Senha" required>
                <button id="login-button">Continuar</button>
            </form>
            <a href="/">Voltar à pagina inicial</a>
            <!-- <a href="/idrecover">Esqueceu seu ID?</a> -->
        </div>
    </script>

    <script id="profile-page" type="text/x-handlebars-template">
        <div class="landing">
            <h3>Seu perfil</h3>
            <h6>Seu ID: {{id}}</h6>
            <form>
                <label for="name-input">Nome:</label>
                <input type="text" id="name-input" value="{{name}}">
                <label for="name-input">Email</label>
                <input type="email" id="email-input" value="{{email}}">
            </form>
            <a href="/changepassword">Mudar Senha</a>
        </div>
    </script>

    <script src="scripts/handlebars/dist/handlebars.min.js"></script>
    <script src="scripts/axios/dist/axios.min.js"></script>
    <script src="scripts/vanilla-router/dist/vanilla-router.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/handlers/registration.js"></script>
    <script src="js/handlers/login.js"></script>
    <script src="js/handlers/expenses.js"></script>
    <script src="js/handlers/profile.js"></script>
</body>
</html>